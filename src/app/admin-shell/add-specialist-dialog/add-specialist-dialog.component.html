<div class="container">
  <h1 mat-dialog-title>Wprowadź dane:</h1>
  <mat-dialog-content>
    <form [formGroup]="form">
      <mat-form-field appearance="fill">
        <mat-label>Imię</mat-label>
        <input matInput formControlName="name" required />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Nazwisko</mat-label>
        <input matInput formControlName="surname" required />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Specjalizacja</mat-label>
        <mat-select formControlName="specialization" required multiple>
          <mat-select-trigger>
            {{specialization.value ? specialization.value[0] : ''}}
            <span *ngIf="specialization.value?.length > 1">
              (+{{specialization.value.length - 1}} {{specialization.value?.length === 2 ? 'other' : 'others'}})
            </span>
          </mat-select-trigger>
          <mat-option *ngFor="let specialization of specializationList" [value]="specialization">{{specialization}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Opis</mat-label>
        <input matInput formControlName="description" required />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Miasto</mat-label>
        <input matInput formControlName="city" required />
      </mat-form-field>

      <div class="valid-form">
        <mat-form-field appearance="fill">
          <mat-label>E-mail</mat-label>
          <input
            matInput
            placeholder="pat@example.com"
            formControlName="email"
            required
          />
          <mat-error *ngIf="email.invalid">{{ getErrorMessage() }}</mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Password</mat-label>
          <input
            matInput
            [type]="hide ? 'password' : 'text'"
            formControlName="password"
            required
          />
          <button
            mat-icon-button
            matSuffix
            (click)="hide = !hide"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hide"
          >
            <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
          </button>
        </mat-form-field>
      </div>
    </form>
  </mat-dialog-content>
  <div mat-dialog-actions>
    <button mat-button (click)="onNoClick()">Zamknij</button>
    <button
      mat-button
      [mat-dialog-close]="data"
      [disabled]="!form.valid"
      (click)="submit()"
    >
      Dodaj
    </button>
  </div>
</div>
